{% load reports_filters %}

<div>
    <h3 style="margin-top:40px;">Hours per user</h3>
    <table cellspacing="0" style="width: 100%;">
        <tbody>
            <tr>
                <td style="padding:5px 10px; color:white; background-color:#D00000; font-weight:bold">User</td>
                <td style="padding:5px 10px; color:white; background-color:#D00000; font-weight:bold; text-align:right">Hours</td>
            </tr>
            {% for user, hours in time_per_user.items|sort_items %}
                <tr>
                    <td style="padding:5px 10px 5px 20px; background-color:#F7F7F7; font-weight:bold">{{ user }}</td>
                    <td style="padding:5px 10px; background-color:#F7F7F7; text-align:right">{{ hours|round_if_not_empty }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div>
    <h3 style="margin-top:40px;">Hours per project and user</h3>
    <table cellspacing="0" style="width: 100%;">
        <tbody>
            <tr>
                <td colspan=2 style="padding:5px 10px; color:white; background-color:#D00000; font-weight:bold">Project/user</td>
                <td style="padding:5px 10px; color:white; background-color:#D00000; font-weight:bold; text-align:right">Hours</td>
            </tr>
            {% for project, user_element in time_per_project_per_user.items|sort_items %}
                <tr>
                    <td colspan=2 style="padding:5px 10px 5px 20px; background-color:#F7F7F7; font-weight:bold">{{ project }}</td>
                    <td style="padding:5px 10px; background-color:#F7F7F7; font-weight:bold; text-align:right">
                        {% for project_2, project_hours in time_per_project.items %}
                            {% if project == project_2 %}
                                {{ project_hours|round_if_not_empty }}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>
                {% for user, element in user_element.items|sort_items %}
                    <tr>
                        <td style="padding:5px 10px 5px 30px; font-weight:bold">{{ user }}</td>
                        <td style="padding:5px 10px; white-space:pre">{{ element.description }}</td>
                        <td style="padding:5px 10px; text-align:right">{{ element.hours|round_if_not_empty }}</td>
                    </tr>
                {% endfor %}
            {% endfor %}
        </tbody>
    </table>
</div>
